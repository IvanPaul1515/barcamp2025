---
const { id, name, title, charla, details, borderColor, imageUr, open } = Astro.props
---

<style>
  dialog {
    position: fixed;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
  }

  dialog::backdrop {
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background: rgba(0, 0, 0, 0.349);
  }

  .name {
      font-size: 1.25rem;
      white-space: normal;
      overflow-wrap: anywhere;
      word-break: break-word;
      hyphens: auto;
      max-width: 90%;
      margin: 0 auto;
      line-height: 1.15;
  }

  .name.long-name {
      font-size: 1.125rem;
  }

  /* Desktop: mostrar TODO el texto */
  .charla{
      white-space: normal;
      overflow-wrap: anywhere;
      word-break: break-word;
      overflow: visible;   /* importante: sin recorte en desktop */
  }

  /* Cuando la ventana baje de ~1360px, recorta a 3 líneas */
  @media (max-width: 1360px){
      .charla{
          display: -webkit-box;
          -webkit-box-orient: vertical;
          -webkit-line-clamp: 3;
          overflow: hidden;
          text-overflow: ellipsis;
      }
  }

  /* Tablets y móviles: 2 líneas */
  @media (max-width: 768px){
      .charla{
          -webkit-line-clamp: 2;
      }
  }





</style>

<dialog id={`${id}`}>
  <form method="dialog">
    <slot name="main" />
    <slot name="close" />
  </form>
</dialog>

<div
        onclick={`document.getElementById('${id}').showModal()`}
        class="bg-[#FFF6EE] dark:bg-transparent shadow-lg rounded-lg border-4 hover:scale-105 transform transition-all duration-300 mx-auto
         w-full h-[400px] flex flex-col justify-between items-center text-center"
        style={`border-color: ${borderColor}`}
        data-id={id}
        data-src={imageUr}
        data-name={name}
        data-title={title}
        data-charla={charla}
        data-details={details}
>
    <div class="relative mt-6 flex justify-center items-center">
        <div class="w-[170px] h-[170px] rounded-full overflow-hidden flex justify-center items-center">
            <img
                    src={imageUr}
                    alt={name}
                    class="w-full h-full object-cover"
                    style={`filter: drop-shadow(0 0 12px ${borderColor});`}
            />
        </div>
    </div>


    <div class="p-3 flex flex-col items-center text-heading-1 rounded-b-lg flex-grow relative">
        <h2
                class={`name ${name.length > 16 ? 'long-name' : ''} 
      text-2xl font-extrabold 
      bg-gradient-to-r from-[#FBA030] via-[#FE9916] to-[#ED5E0B] 
      bg-clip-text text-transparent leading-none tracking-tight`}
                style="background-clip:text; -webkit-background-clip:text; color:transparent !important;"
        >
            {name}
        </h2>

        <p class="mt-[0.3rem] text-[0.95rem] text-gray-300 font-bold leading-snug">
            {title}
        </p>

        <p class="charla mt-[0.5rem] text-[0.95rem] font-semibold text-transparent bg-clip-text bg-gradient-to-r from-[#FBA030] via-[#FE9916] to-[#ED5E0B] text-center leading-snug">
            {charla}
        </p>
    </div>

</div>

